<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>斤一斤</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
        integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/src/style.css">
    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@500&family=Zen+Antique&display=swap"
        rel="stylesheet">
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jQuery.Marquee/1.5.0/jquery.marquee.min.js"></script>
    <!-- gsap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/ScrollToPlugin.min.js"
        integrity="sha512-1OG9UO4krPizjtz/c9iDbjCqtXznBYdJeD4ccPaYfJHzC6F1qoQ3P1bgQ3J8lgCoK5qGVCqsY4+/RKjLDzITVQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <!-- Start Dialog -->
    <div class="mask">
        <div class="dialog">
            <div class="dialog-dlg dlg-1">
                <h4>謎之音 0.0</h4>
                <p>肖年欸！哩欲咩啥？</p>
            </div>
            <div class="dialog-dlg dlg-2">
                <h4>謎之音 0.0</h4>
                <p>一斤120啦！</p>
            </div>
            <div class="dialog-dlg dlg-3">
                <h4>謎之音 0.0</h4>
                <p>那你真是問對人了！進來看看吧！</p>
            </div>
            <div class="dialog-select">
                <a class="select select-1">逃走</a>
                <a class="select select-2">這怎麼賣？</a>
                <a class="select select-3">一斤...是多少...</a>
                <a class="select select-4">開始探索</a>
            </div>
        </div>
    </div>
    <!-- End Dialog -->

    <!-- Start main -->
    <div class="wrapper" id="container">
        <!-- Start map -->
        <div class="map-wrapper" id="map">
            <a href="vegetable.html" class="veg"></a>
            <a href="beef.html" class="beef"></a>
            <a href="pork.html" class="pork"></a>
            <a href="chicken.html" class="chicken"></a>
            <a href="seafood.html" class="seafood"></a>
            <a href="fruit.html" class="fruit"></a>
        </div>
        <!-- Start map -->
    </div>
    <!-- End main -->

    <!-- js -->
    <script>
        $(document).ready(function () {
            $("body").on("click", function (event) {
                console.log($(event.target))
                if ($(event.target).hasClass("select-1")) {
                    $(event.target).addClass("active");
                    $(function () {
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").hide(1000);
                        }, 1000);
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").parents(".mask").hide(1500);
                        }, 1500);
                    })
                }
                if ($(event.target).hasClass("select-2")) {
                    $(event.target).addClass("active");
                    $(event.target).parents(".dialog-select").siblings(".dlg-1").css({ "display": "none"});
                    $(event.target).parents(".dialog-select").siblings(".dlg-2").css({ "display": "block" });
                    setTimeout(function () {
                        $(event.target).css({ "display": "none" });
                        $(event.target).siblings(".select-3").css({ "display": "block" });
                    }, 500);
                }
                if ($(event.target).hasClass("select-3")) {
                    $(event.target).addClass("active");
                    $(event.target).parents(".dialog-select").siblings(".dlg-2").css({ "display": "none" });
                    $(event.target).parents(".dialog-select").siblings(".dlg-3").css({ "display": "block" });
                    setTimeout(function () {
                        $(event.target).css({ "display": "none" });
                        $(event.target).siblings(".select-4").css({ "display": "block" });
                    }, 500);
                }
                if ($(event.target).hasClass("select-4")) {
                    $(event.target).addClass("active");
                    $(function () {
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").hide(1000);
                        }, 1000);
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").parents(".mask").hide(1500);
                        }, 1500);
                    })
                }
            });
        });

        const $container = $("#container");
        function update() {
            Draggable.create(".map-wrapper", {
                bounds: $container,
                edgeResistance: 0.8,
                inertia: true,
                type: "x,y",
                allowEventDefault: true,
                throwProps: true,
                autoScroll: true,
            });
        }
        update();
    </script>
</body>
</html>