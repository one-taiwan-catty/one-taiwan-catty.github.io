<!DOCTYPE html>
<html lang="zh_TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>斤一斤</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
        integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/src/style.css" />
    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;500&family=Zen+Antique&display=swap"
        rel="stylesheet" />
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- gsap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/ScrollToPlugin.min.js"
        integrity="sha512-1OG9UO4krPizjtz/c9iDbjCqtXznBYdJeD4ccPaYfJHzC6F1qoQ3P1bgQ3J8lgCoK5qGVCqsY4+/RKjLDzITVQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/ScrollTrigger.min.js"></script>
    <!-- Threejs -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.138.0/build/three.module.js",
          "OrbitControls": "https://unpkg.com/three@0.138.0/examples/jsm/controls/OrbitControls.js",
          "DragControls": "https://unpkg.com/three@0.138.0/examples/jsm/controls/DragControls.js",
          "DRACOLoader": "https://unpkg.com/three@0.138.0/examples/jsm/loaders/DRACOLoader.js",
          "GLTFLoader": "https://unpkg.com/three@0.138.0/examples/jsm/loaders/GLTFLoader.js",
          "RoomEnvironment": "https://unpkg.com/three@0.138.0/examples/jsm/environments/RoomEnvironment.js",
          "lil-gui": "https://unpkg.com/three@0.138.0/examples/jsm/libs/lil-gui.module.min.js"
        }
      }
    </script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>
<body>
    <!-- <div class="loading" id="loading">
        <div class="loading-box">
            <lottie-player src="https://assets6.lottiefiles.com/packages/lf20_aqmlws3s.json" mode="bounce" background="#000000"
                speed="1.5" style="width: 300px; height: 300px;" loop autoplay></lottie-player>
            <div class="counter">
                <hr />
            </div>
        </div>
    </div> -->
    <!-- Start Dialog -->
    <!-- <div class="mask">
        <div class="dialog">
            <div class="dialog-dlg dlg-1">
                <h4>謎之音 0.0</h4>
                <p>肖年欸！哩欲咩啥？</p>
            </div>
            <div class="dialog-dlg dlg-2">
                <h4>謎之音 0.0</h4>
                <p>一斤120啦！</p>
            </div>
            <div class="dialog-dlg dlg-3">
                <h4>謎之音 0.0</h4>
                <p>那你真是問對人了！進來看看吧！</p>
            </div>
            <div class="dialog-select">
                <a class="select select-1">逃走</a>
                <a class="select select-2">這怎麼賣？</a>
                <a class="select select-3">一斤...是多少...</a>
                <a class="select select-4">開始探索</a>
            </div>
        </div>
    </div> -->
    <!-- End Dialog -->

    <!-- Start Tutorial -->
    <!-- <div class="tutorial">
        <div class="welcome"></div>
        <h3>歡迎來到市場</h3>
        <div class="tutorial-scroll"></div>
        <p>四處拖曳以選擇攤位</p>
    </div> -->
    <!-- End Tutorial -->

    <!-- Start main -->
    <!-- Start navbar -->
    <div class="navbar">
        <div class="nav-box">
            <a href="index.html" class="nav-logo"></a>
            <a href="#popup-menu" class="menu-toggle" id="toggle">
                <span></span>
                <span></span>
            </a>
            <div class="popup-menu" id="popup-menu">
                <ul class="nav">
                    <li class="nav-item">
                        <div class="nav-pic item-veg-1"></div>
                        <a href="#!" class="nav-link">豬肉攤</a>
                    </li>
                    <li class="nav-item">
                        <div class="nav-pic item-veg-2"></div>
                        <a href="#!" class="nav-link">牛肉攤</a>
                    </li>
                    <li class="nav-item">
                        <div class="nav-pic item-veg-3"></div>
                        <a href="#!" class="nav-link">雞肉攤</a>
                    </li>
                    <li class="nav-item">
                        <div class="nav-pic item-veg-4"></div>
                        <a href="#!" class="nav-link">蔬菜攤</a>
                    </li>
                    <li class="nav-item">
                        <div class="nav-pic item-veg-5"></div>
                        <a href="#!" class="nav-link">海鮮攤</a>
                    </li>
                    <li class="nav-item">
                        <div class="nav-pic item-veg-6"></div>
                        <a href="#!" class="nav-link">水果攤</a>
                    </li>
                </ul>
                <a href="#!" class="close-btn" id="close">
                    <span></span>
                    <span></span>
                </a>
            </div>
        </div>
    </div>
    <!-- Emd navbar -->
    <canvas class="webgl"></canvas>
    <!-- End main -->

    <!-- js -->
    <script src="/src/index.js" type="module"></script>
    <script>
        $(document).ready(function () {
            // $(window).on("load", function () {
            //     $('#loading').delay(5000).fadeOut(1000);
            //     let counter = 0;
            //     let c = 0;
            //     let i = setInterval(function () {
            //         $(".loading .counter h1").html(c + "%");
            //         $(".loading .counter hr").css("width", c + "%");

            //         counter++;
            //         c++;

            //         if (counter == 101) {
            //             clearInterval(i);
            //         }
            //     }, 10);
            // });
            $("body").on("click", function (event) {
                // console.log($(event.target))
                if ($(event.target).hasClass("select-1")) {
                    $(event.target).addClass("active");
                    $(function () {
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").hide(1000);
                        }, 1000);
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").parents(".mask").hide(1500);
                        }, 1500);
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").parents(".mask").siblings(".tutorial").css({"display": "flex"});
                        }, 1500);
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").parents(".mask").siblings(".tutorial").hide(1500);
                        }, 6000);
                    })
                }
                if ($(event.target).hasClass("select-2")) {
                    $(event.target).addClass("active");
                    $(event.target).parents(".dialog-select").siblings(".dlg-1").css({ "display": "none"});
                    $(event.target).parents(".dialog-select").siblings(".dlg-2").css({ "display": "block" });
                    setTimeout(function () {
                        $(event.target).css({ "display": "none" });
                        $(event.target).siblings(".select-3").css({ "display": "block" });
                    }, 500);
                }
                if ($(event.target).hasClass("select-3")) {
                    $(event.target).addClass("active");
                    $(event.target).parents(".dialog-select").siblings(".dlg-2").css({ "display": "none" });
                    $(event.target).parents(".dialog-select").siblings(".dlg-3").css({ "display": "block" });
                    setTimeout(function () {
                        $(event.target).css({ "display": "none" });
                        $(event.target).siblings(".select-4").css({ "display": "block" });
                    }, 500);
                }
                if ($(event.target).hasClass("select-4")) {
                    $(event.target).addClass("active");
                    $(function () {
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").hide(1000);
                        }, 1000);
                        setTimeout(function () {
                            $(event.target).parents(".dialog-select").parents(".dialog").parents(".mask").hide(1500);
                        }, 1500);
                    })
                }
            });
        });
        document.getElementById("toggle").addEventListener("click", () => {
            gsap.fromTo('.nav-logo', { duration: 1, x: 0 }, { duration: 1, x: 0, left: 60, ease: "ease" });
        });
        document.getElementById("close").addEventListener("click", () => {
            gsap.fromTo('.nav-logo', { duration: 1, x: 0, left: 60 }, { duration: 1, x: 0, left: "50%", ease: "ease" });
        });
    </script>
</body>
</html>